set testdir [file dirname $argv0]
source $testdir/tester.tcl

# kill mutants ['4738', '4744', '4748', '4749', '4750', '4754', '4757', '4770', '4776', '4780', '4781', '4782', '4786', '4789', '4818', '4850', '5186', '5211', '5212', '5218', '5243', '5244', '5261', '5264']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_catchsql_test alter-dredd-4.1 {
  CREATE TEMP TABLE a(b);
  ALTER TABLE a ADD c;
  CREATE TEMP VIEW d AS SELECT c FROM a;
  ALTER TABLE a RENAME c TO e;
} {1 {error in view d: no such column: e}}

finish_test
