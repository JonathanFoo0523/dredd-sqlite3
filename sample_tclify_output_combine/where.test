set testdir [file dirname $argv0]
source $testdir/tester.tcl

# kill mutants ['22993', '22996', '22997', '23025', '23028', '23029', '23040', '23058', '23061', '23062', '23063', '23064', '23065', '23067', '23070', '23071', '23072', '23147', '23150']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-0.1 {
   CREATE TABLE t0 (c0 );
                           CREATE VIRTUAL TABLE rt0 USING rtree_i32( c1, c2, c3 , +c4 );
                           INSERT INTO t0 VALUES  (0), ('');
                           CREATE VIRTUAL TABLE vt0 USING fts5(0);
                           INSERT OR IGNORE INTO vt0 VALUES  (0), (0);
                           INSERT OR ROLLBACK INTO rt0(c4, c3, c2, c1) VALUES (0,0, x'',0);
                           SELECT       t0.c0 FROM t0 CROSS JOIN rt0   JOIN vt0 ON x'3664';
} {0 {} 0 {}}

# kill mutants ['15360']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-1.1 {
  CREATE TABLE a(b);
  ALTER TABLE a RENAME TO c;
  CREATE INDEX d ON c(0) WHERE 0;
  ALTER TABLE c ADD e;
  ALTER TABLE c ADD f;
  ALTER TABLE c RENAME TO a;
  INSERT INTO a VALUES(0, 'sꍎl➿Q', 0);
  CREATE TABLE g(h);
  ALTER TABLE a RENAME TO i;
  SELECT 0 FROM i FULL JOIN g;
} {0}

# kill mutants ['31238']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-2.1 {
  CREATE TABLE c(a, b);
  INSERT INTO c VALUES( '', 0);
  CREATE VIEW d(e)
  AS SELECT 0;
  CREATE TABLE f(g);
  SELECT DISTINCT e FROM d LEFT JOIN f FULL JOIN c ON(g);
} {0 {}}

# kill mutants ['23815']
reset_db
sqlite3_db_config db DEFENSIVE 1
sqlite3_enable_load_extension db 1
do_execsql_test where-dredd-3.1 {
  CREATE VIEW a AS SELECT COUNT();
  CREATE VIRTUAL TABLE b USING rtree_i32(c, d, e);
  SELECT DISTINCT 0.13377669327561492 FROM b,
      a WHERE(load_extension(0.8419090692824377));
} {}

# kill mutants ['31243']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-4.1 {
  CREATE TABLE a(b);
  CREATE TABLE c(d);
  INSERT INTO c VALUES(0);
  CREATE VIEW e AS SELECT 0;
  SELECT DISTINCT d FROM e LEFT JOIN c ON 0 LEFT JOIN a;
} {{}}

# kill mutants ['21417', '21431', '21466', '21498', '21515', '21538', '21547']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-5.1 {
  CREATE TEMPORARY TABLE a(b, c);
  CREATE TABLE d(e, c);
  INSERT INTO d VALUES('974845346', 1);
  CREATE VIRTUAL TABLE f USING rtree(b, c, g);
  ALTER TABLE a RENAME TO h;
  INSERT INTO f VALUES('6526', 0, 1881160790);
  INSERT INTO h VALUES(0, ''), ('', '');
  INSERT INTO f(g) VALUES(0);
  ANALYZE;
  CREATE TEMPORARY VIEW i AS SELECT 0 FROM d, f, h;
  ALTER TABLE h RENAME TO a;
  SELECT *FROM i, a, f JOIN d ON d.c WHERE g BETWEEN e AND a.c;
} {0 0 {} 6526 0.0 1881160832.0 974845346 1 0 0 {} 6526 0.0 1881160832.0 974845346 1 0 {} {} 6526 0.0 1881160832.0 974845346 1 0 {} {} 6526 0.0 1881160832.0 974845346 1 0 0 {} 6526 0.0 1881160832.0 974845346 1 0 0 {} 6526 0.0 1881160832.0 974845346 1 0 {} {} 6526 0.0 1881160832.0 974845346 1 0 {} {} 6526 0.0 1881160832.0 974845346 1}

# kill mutants ['8480']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-6.1 {
  CREATE TABLE a(b);
  INSERT INTO a VALUES('?iP堇j%1\}泻');
  INSERT INTO a VALUES(1);
  CREATE UNIQUE INDEX c ON a(b);
  INSERT INTO a VALUES('495672851'), ('1481434659'), ('');
  ALTER TABLE a RENAME b TO d;
  UPDATE OR IGNORE a SET d = 2;
  ALTER TABLE a RENAME TO e;
  UPDATE e SET(d) = 0 WHERE(d) IS FALSE;
  ANALYZE;
  SELECT *FROM e WHERE(d <= 1);
} {0 1}

# kill mutants ['25121', '25124']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-7.1 {
  CREATE TABLE t0(c0, c1 UNIQUE NOT NULL);
  INSERT INTO t0 VALUES(0, x'');
  ALTER TABLE t0 ADD c28;
  ALTER TABLE t0 RENAME TO t2;
  INSERT OR IGNORE INTO t2(c1, c28, c0) VALUES('', '1034984180', '');
  ALTER TABLE t2 RENAME c28 TO a;
  SELECT a FROM t2 GROUP BY 1, c1;
} {1034984180 {}}

# kill mutants ['8229']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_catchsql_test where-dredd-8.1 {
  CREATE TABLE a(b);
  INSERT INTO a VALUES(0);
  ALTER TABLE a ADD c CHECK( '');
} {1 {CHECK constraint failed}}

# kill mutants ['30778', '30781', '30782', '33121', '33124', '33127', '33128']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_catchsql_test where-dredd-9.1 {
  CREATE TABLE a(b);
  SELECT *FROM a WHERE(json_patch('830874941', '\rilxSI'));
} {1 {malformed JSON}}

# kill mutants ['15429', '15432']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-10.1 {
  CREATE TABLE a(b);
  CREATE INDEX c ON a(0) WHERE(b) AND(b) ISNULL;
  ALTER TABLE a RENAME b TO d;
  INSERT INTO a VALUES(NULL);
  SELECT 0 FROM a GROUP BY d HAVING(d) ISNULL;
} {0}

# kill mutants ['6728']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-11.1 {
  CREATE VIRTUAL TABLE vt0 USING fts5(1, c1)  ;
  CREATE VIRTUAL TABLE rt0 USING rtree_i32(a, c1, c2, +c3 b , +c4 REAL , +c ); -- 1;
  CREATE  VIEW     v0 AS SELECT 1 FROM rt0, vt0 ORDER BY 1   COLLATE RTRIM    , ''  NULLS LAST; -- 0ms
  BEGIN EXCLUSIVE ; -- 
  DROP VIEW v0; -- ;
  INSERT OR IGNORE INTO rt0(c1, c3) VALUES  (1, '9 '), (NULL,1); ROLLBACK  ;
  SELECT   (SELECT 0    FROM vt0, rt0, v0 ORDER BY rt0.c COLLATE NOCASE    );
} {{}}

# kill mutants ['6731']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-12.1 {
  PRAGMA synchronous;
} {2}
do_catchsql_test where-dredd-12.2 {
     CREATE VIRTUAL TABLE vt0 USING fts5(c0 UNINDEXED, 0);
  CREATE VIRTUAL TABLE rt0 USING rtree_i32(c0, c1, c2, +c3  , +c4 0, +c5 INTEGER ); -- ;
  UPDATE   vt0 SET c0=''; -- ;
  INSERT INTO vt0(vt0) VALUES(''); ;
} {1 {SQL logic error}}
do_execsql_test where-dredd-12.3 {
  CREATE TEMPORARY VIEW  IF NOT EXISTS v0(c0) AS SELECT ((((CAST(rt0.c5 AS INTEGER))AND(0)))OR(COUNT())) FROM rt0, vt0 ORDER BY (1 IN (0,0)) COLLATE RTRIM DESC  NULLS LAST, ''  NULLS LAST; -- 1;
  UPDATE OR IGNORE vt0 SET c0=x''  ;
  BEGIN   ;
  DROP VIEW v0 ;
  ROLLBACK ;
  SELECT   (SELECT 0  as count FROM vt0, rt0  ORDER BY c5 COLLATE NOCASE  );
} {{}}

# kill mutants ['6734']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-13.1 {
  CREATE VIRTUAL TABLE vt0 USING fts5(c0 )   ;
     CREATE VIRTUAL TABLE rt0 USING rtree_i32(c0, c, d,  +a  , +b  )  ;
     CREATE  VIEW  IF NOT EXISTS v0(c0) AS SELECT (((CAST(rt0.b AS e)))) FROM rt0, vt0 ORDER BY rt0.c  ;
      SELECT (SELECT 1   FROM  rt0, v0 ORDER BY b COLLATE NOCASE  );
} {{}}

# kill mutants ['15447', '15479']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_catchsql_test where-dredd-14.1 {
  CREATE TABLE t0(c0);
  CREATE VIRTUAL TABLE rt1 USING rtree(c0, c1, a);
  ALTER TABLE t0 RENAME c0 TO c66;
  CREATE INDEX b ON t0(x'' COLLATE RTRIM) WHERE CASE 0 WHEN 0 THEN 0 WHEN
      4.96399527E8 THEN 6 WHEN 0 THEN CASE WHEN 6 THEN 6 ELSE 6 END ELSE 0 END;
  UPDATE t0 SET(c66, c66) = ('', 0.6306533412832728);
  UPDATE t0 SET(c66, c66, c66) = (0.2560124226798175, x'', NULL)WHERE
      CAST('' AS NUMERIC);
  UPDATE OR IGNORE t0 SET c66 = NULL, c66 = 0.6306533412832728 WHERE 1;
  UPDATE OR ABORT t0 SET c66 = 1 WHERE 0;
  PRAGMA short_column_names = false;
  INSERT OR ABORT INTO rt1(c1, c0) VALUES(0.3056766732712136, x'');
} {1 {rtree constraint failed: rt1.(c1<=a)}}

# kill mutants ['15448', '15480']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-15.1 {
  CREATE TABLE a(b);
  ALTER TABLE a RENAME b TO c;
  CREATE INDEX d ON a(0) WHERE 0;
  UPDATE a SET c = '292951434';
  PRAGMA checkpoint_fullfsync;
} {0}

# kill mutants ['21591']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-16.1 {
  CREATE TABLE a(b, c2);
  CREATE TABLE c(d, c2);
  INSERT INTO c VALUES('974845346', 0);
  ALTER TABLE a RENAME b TO e;
  CREATE VIRTUAL TABLE rt0 USING rtree(d, b, c2);
  ALTER TABLE a RENAME TO f;
  INSERT INTO f VALUES(0, '816008656'), (0, '');
  INSERT OR IGNORE INTO rt0(c2) VALUES(0), (x'');
  ALTER TABLE f RENAME TO a;
  SELECT *FROM c, rt0, a WHERE(b) BETWEEN(a.c2) ISNULL AND(c.c2) ORDER BY(1);
} {974845346 0 1 0.0 0.0 0 816008656 974845346 0 1 0.0 0.0 0 {} 974845346 0 2 0.0 0.0 0 816008656 974845346 0 2 0.0 0.0 0 {}}

# kill mutants ['33114']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_catchsql_test where-dredd-17.1 {
  CREATE TABLE a(b);
  CREATE TABLE c(b);
  SELECT 0 FROM c JOIN a ON json_type('');
} {1 {malformed JSON}}

# kill mutants ['33115', '33124', '33127', '33128']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-18.1 {
  CREATE TABLE a(b);
  CREATE TABLE c(d);
  INSERT INTO a VALUES('kP?sK');
  INSERT INTO c VALUES(0);
  CREATE TABLE e(f);
  SELECT *FROM a JOIN c ON(highlight()) FULL JOIN e WHERE 0;
} {}

# kill mutants ['23137']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-19.1 {
  CREATE VIRTUAL TABLE vt0 USING fts4;
  CREATE TABLE rt1(a);
  INSERT INTO rt1 VALUES('');
  CREATE VIEW v0 AS SELECT 0 FROM rt1, vt0 ORDER BY CAST(0 AS) NULLS LAST;
  INSERT OR IGNORE INTO vt0 VALUES('');
  SELECT 0 FROM rt1 FULL JOIN vt0 ON 0 JOIN v0 ON x'' ;
} {}

# kill mutants ['33121', '33122', '33131', '33134', '33137']
reset_db
sqlite3_db_config db DEFENSIVE 1
sqlite3_enable_load_extension db 1
do_execsql_test where-dredd-20.1 {
  CREATE VIRTUAL TABLE a USING fts5(b);
  SELECT 2 FROM a WHERE(load_extension('1853245932'));
} {}

# kill mutants ['21606', '21607']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-21.1 {
  CREATE TABLE a(b);
  CREATE TABLE c(d);
  CREATE VIRTUAL TABLE e USING rtree_i32(d, b, f);
  SELECT COUNT() FROM c, a NATURAL JOIN e;
} {0}

# kill mutants ['21613']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-22.1 {
  CREATE VIRTUAL TABLE a USING rtree_i32(c0, c1, c4);
  CREATE VIEW v0 AS SELECT c1 FROM a;
  CREATE TABLE b(c4);
  SELECT 0 FROM v0, b NATURAL JOIN a;
} {}

# kill mutants ['31361']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-23.1 {
  CREATE TABLE a(c);
  CREATE TABLE b(d);
  ALTER TABLE b RENAME TO e;
  CREATE TABLE b(c);
  CREATE VIEW f AS SELECT 0;
  CREATE VIRTUAL TABLE g USING fts4;
  SELECT DISTINCT 0 FROM b, g, a, e LEFT JOIN f ON(0 BETWEEN 0 AND 0);
} {}

# kill mutants ['31372']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-24.1 {
  CREATE TEMP TABLE t0 (c0 REAL );
           CREATE TABLE t1 (c2 CHECK ( (NULL)));
           ALTER TABLE t1 RENAME TO t2;
           CREATE TEMP TABLE t1 (TEXT );
           ALTER TABLE t1 ADD c95 ;
           CREATE TEMPORARY VIEW  v0(c0) AS SELECT 0 FROM t0;
           CREATE VIRTUAL TABLE vt0 USING fts4;
           SELECT DISTINCT c95 FROM t0, t1, t2 JOIN v0 ON 0 LEFT OUTER JOIN vt0 END;
} {}

# kill mutants ['16303', '16305', '18064']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-25.1 {
  CREATE TABLE a(b);
  ALTER TABLE a ADD c;
  INSERT INTO a(c) VALUES('1235099238'), ('');
  ALTER TABLE a RENAME c TO d;
  ALTER TABLE a RENAME TO e;
  CREATE INDEX f ON e(d, 0);
  ALTER TABLE e ADD g;
  SELECT *FROM e;
} {{} 1235099238 {} {} {} {}}

# kill mutants ['16019', '16021']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-26.1 {
  CREATE TABLE t0(c0);
  INSERT INTO t0 VALUES('');
  ALTER TABLE t0 ADD COLUMN c44 INTEGER;
  CREATE UNIQUE INDEX i9 ON t0(NULL, c0 COLLATE NOCASE);
  ALTER TABLE t0 ADD COLUMN c62 TEXT;
  INSERT OR ROLLBACK INTO t0 VALUES(7.35053287E8, x'', 9);
  SELECT NULL, CASE WHEN 0 THEN c62 ELSE c0 END FROM t0;
} {{} {} {} 735053287.0}

# kill mutants ['15509', '15541']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-27.1 {
  CREATE TABLE d(a);
  CREATE TABLE e(b);
  CREATE TABLE t1(b);
  INSERT INTO e VALUES('?E3N');
  CREATE INDEX c ON t1(0) WHERE '' COLLATE RTRIM IN();
  INSERT OR FAIL INTO t1 VALUES('');
  ALTER TABLE t1 RENAME TO f;
  SELECT(SELECT 0 FROM d RIGHT JOIN e ON 0 IN() JOIN f);
} {0}

# kill mutants ['31385']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-28.1 {
  CREATE TABLE a(c0);
  CREATE VIRTUAL TABLE vt1 USING fts5(c1);
  CREATE VIRTUAL TABLE b USING rtree_i32(c0, c1, c);
  INSERT OR IGNORE INTO b(c1) VALUES(0);
  CREATE TABLE t0(c0);
  ALTER TABLE t0 RENAME TO t1;
  SELECT DISTINCT vt1.c1, 0 FROM vt1, t1 LEFT JOIN a FULL JOIN b;
} {{} 0}

# kill mutants ['16031']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-29.1 {
  CREATE TABLE a(b);
  CREATE TABLE c(b BLOB);
  ALTER TABLE c RENAME b TO d;
  CREATE INDEX e ON c(0 > d);
  ALTER TABLE c RENAME TO f;
  INSERT INTO f VALUES(-9.1897878E7), (0);
  ALTER TABLE f RENAME d TO g;
  SELECT g FROM a FULL JOIN f;
} {-91897878.0 0}

# kill mutants ['33446', '33450', '33451', '33452', '33453', '33454', '33455', '33456', '33458', '33459', '33460', '33461']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_catchsql_test where-dredd-30.1 {
  CREATE VIRTUAL TABLE a USING fts4;
  CREATE VIEW b AS SELECT DISTINCT 0;
  SELECT *FROM a JOIN b WHERE(highlight());
} {1 {unable to use function highlight in the requested context}}

# kill mutants ['15270', '15273']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-31.1 {
  CREATE TABLE a(b);
  INSERT INTO a VALUES(0);
  ALTER TABLE a RENAME TO e;
  CREATE INDEX c ON e(0 = b);
  ALTER TABLE e ADD d;
  ANALYZE;
  CREATE INDEX f ON e(x'' );
  INSERT INTO e(d) VALUES(0);
  SELECT DISTINCT b FROM e;
} {0 {}}

# kill mutants ['15272']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-32.1 {
  CREATE TABLE a(b);
  INSERT INTO a VALUES(0);
  ALTER TABLE a RENAME TO c;
  CREATE INDEX d ON c(0 = b);
  ALTER TABLE c ADD e;
  ANALYZE;
  ALTER TABLE c ADD f;
  CREATE INDEX g ON c(x'' );
  INSERT INTO c(e) VALUES(0);
  SELECT DISTINCT b, f FROM c;
} {0 {} {} {}}

# kill mutants ['15274']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-33.1 {
  CREATE TABLE a(b);
  INSERT INTO a VALUES(0);
  ALTER TABLE a RENAME TO e;
  CREATE INDEX c ON e(b);
  ALTER TABLE e ADD d;
  ANALYZE;
  CREATE INDEX f ON e(x'' );
  INSERT INTO e(d) VALUES(0);
  SELECT DISTINCT d FROM e;
} {{} 0}

# kill mutants ['18096']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-34.1 {
  CREATE TABLE a(b);
  REPLACE INTO a VALUES('cdd8'), (0);
  ALTER TABLE a RENAME TO c;
  CREATE TABLE a(d);
  ALTER TABLE c ADD e;
  ALTER TABLE c RENAME TO f;
  CREATE INDEX g ON f(0);
  INSERT INTO a VALUES('4655'), (0);
  SELECT *FROM f, a;
} {cdd8 {} 4655 cdd8 {} 0 0 {} 4655 0 {} 0}

# kill mutants ['16303', '16305', '16308']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-35.1 {
  CREATE TABLE a(b);
  ALTER TABLE a ADD c;
  CREATE INDEX d ON a(1 AND(b));
  INSERT INTO a VALUES('0.09736653651736715', 0), (0, 0);
  SELECT b FROM a;
} {0.09736653651736715 0}

# kill mutants ['16309']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-36.1 {
  CREATE TABLE a(b);
  CREATE TABLE t1(c);
  ALTER TABLE t1 ADD d;
  CREATE INDEX e ON t1(1 AND(c));
  INSERT INTO a VALUES('');
  INSERT OR IGNORE INTO t1 VALUES('0.09736653651736715', 0), (0, 0);
  SELECT c FROM a, t1;
} {0.09736653651736715 0}

# kill mutants ['21180']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-37.1 {
  CREATE VIRTUAL TABLE a USING rtree_i32(b, c, d);
  CREATE VIRTUAL TABLE e USING rtree_i32(b, c, d);
  SELECT 0 FROM a NATURAL JOIN e;
} {}

# kill mutants ['31422']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-38.1 {
  CREATE TABLE rt0(c2);
  CREATE TABLE b(c1);
  CREATE VIEW d AS SELECT CAST(rt0.c2 AS) FROM rt0;
  CREATE VIRTUAL TABLE vt0 USING fts4;
  CREATE TABLE IF NOT EXISTS e(TEXT);
  ALTER TABLE e RENAME TO f;
  SELECT DISTINCT 0 FROM b, rt0, d LEFT OUTER JOIN f ON 0 RIGHT JOIN vt0;
} {}

# kill mutants ['15302', '15334']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-39.1 {
  CREATE TABLE a(b);
  ALTER TABLE a ADD c;
  CREATE INDEX d ON a(0, NULL);
  INSERT INTO a VALUES('', x''), (0, 0);
  CREATE VIEW e AS SELECT 0 FROM a;
  ALTER TABLE a ADD f;
  CREATE INDEX g ON a(0) WHERE 0;
  ANALYZE;
  SELECT *FROM a, e ORDER BY NULL;
} {{} {} {} 0 {} {} {} 0 0 0 {} 0 0 0 {} 0}

# kill mutants ['31433']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-40.1 {
  CREATE TABLE a(b);
  CREATE TABLE c(d);
  CREATE TABLE e(b);
  CREATE TABLE f(g);
  INSERT INTO f VALUES(0);
  ALTER TABLE f RENAME TO h;
  SELECT DISTINCT 0 FROM c, h LEFT JOIN a FULL JOIN e;
} {}

# kill mutants ['35533', '35537', '35539', '35540', '35541', '35542', '35543']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-41.1 {
  CREATE TABLE a(b UNIQUE);
  INSERT INTO a VALUES(0);
  ALTER TABLE a RENAME b TO c;
  CREATE TABLE d(b);
  ALTER TABLE a RENAME TO e;
  INSERT INTO d VALUES('210854980');
  SELECT c FROM e FULL JOIN d ON 0 GROUP BY 1;
} {{} 0}

# kill mutants ['15566', '15598']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-42.1 {
  CREATE VIRTUAL TABLE a USING rtree(b, c, d);
  CREATE TABLE e(b);
  ALTER TABLE e RENAME TO f;
  CREATE INDEX g ON f(CAST(CASE WHEN 0 THEN 0 END AS)) WHERE(0 IN());
  ALTER TABLE f RENAME TO e;
  SELECT 0 FROM a, e INDEXED BY g WHERE(0 IN());
} {}

# kill mutants ['32210', '32211']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-43.1 {
  CREATE TABLE a(b, c);
  ALTER TABLE a ADD d;
  ALTER TABLE a RENAME TO e;
  PRAGMA reverse_unordered_selects = 1;
  INSERT INTO e VALUES(0, 0, 0), ('', 0, 0);
  SELECT *FROM e;
} {{} 0 0 0 0 0}

# kill mutants ['18646', '18649', '18661', '18664', '18665', '18666', '18669', '18675']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-44.1 {
  CREATE TABLE t1(a, b PRIMARY KEY, c2 BLOB) WITHOUT ROWID;
  REPLACE INTO t1(c2, b) VALUES('', 0.9729914869382656);
  CREATE UNIQUE INDEX i97 ON t1(UNLIKELY(DISTINCT CAST(c2 AS REAL)) ASC, 0 DESC,
                                0 COLLATE NOCASE);
  INSERT OR FAIL INTO t1 VALUES('', '', NULL);
  SELECT ALL LAG('', CAST(t1.c2 AS BLOB) OR(0), '&') OVER() FROM t1
      WHERE('0.9729914869382656' OR(NULL))
          AND(0 || '2004904833265254831' AND(0.5119305223223568) OR'');
} {{} &}

# kill mutants ['18647', '18648', '18650', '18655', '18659', '18679', '18680', '18682']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-45.1 {
  CREATE TABLE t1(a, b PRIMARY KEY, c2 BLOB) WITHOUT ROWID;
  REPLACE INTO t1(c2, b) VALUES('', 0.9729914869382656);
  CREATE UNIQUE INDEX i97 ON t1(UNLIKELY(DISTINCT CAST(c2 AS REAL)) ASC, 0 DESC,
                                0 COLLATE NOCASE);
  INSERT OR FAIL INTO t1 VALUES('', '', NULL);
  SELECT ALL LAG('', CAST(t1.c2 AS BLOB) OR(0), '&') OVER() FROM t1 WHERE
      '0.97299148693826562004904833' AND((0)OR '265254831');
} {{} &}

# kill mutants ['15324', '15325', '15356', '15357']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test where-dredd-46.1 {
  CREATE TABLE a(b);
  ALTER TABLE a ADD c;
  ALTER TABLE a ADD d;
  CREATE INDEX e ON a((CASE c WHEN c THEN 6 END)DESC);
  ALTER TABLE a RENAME c TO f;
  INSERT INTO a(f, d, b) VALUES(NULL, '', NULL), ('', x'', NULL);
  ANALYZE;
  ALTER TABLE a RENAME f TO g;
  SELECT DISTINCT(CAST(g AS)) FROM a;
} {{} 0}

finish_test
