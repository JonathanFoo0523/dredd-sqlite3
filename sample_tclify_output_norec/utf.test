set testdir [file dirname $argv0]
source $testdir/tester.tcl

# kill mutants ['1298', '1307', '1310', '1311', '1330', '1339', '1342', '1343', '1345', '1346', '1347', '1349', '1350', '1351', '1352', '1353', '1354', '1355', '1356', '1357', '1358', '1359', '1360', '1361', '1363', '1364', '1365', '1366', '1367', '1368', '1369', '1370', '1371', '1372', '1374', '1375', '1376', '1377', '1378', '1379', '1381', '1382', '1383', '1384', '1385', '1386', '1387', '1388', '1389', '1390', '1391', '1392', '1393', '1395', '1396', '1397', '1398', '1399', '1400', '1401', '1402', '1403', '1404', '1406', '1407', '1409', '1410', '1411', '1412', '1413', '1414', '1415', '1416', '1418', '1419', '1421', '1422', '1423', '1424', '1425', '1426', '1428', '1429', '1430', '1431', '1432', '1433', '1434', '1435', '1436', '1437', '1438', '1439', '1441', '1442', '1443', '1444', '1445', '1446', '1447', '1448', '1450', '1451', '1453', '1454', '1455', '1456', '1457', '1458', '1460', '1461', '1462', '1463', '1464', '1465', '1466', '1467', '1468', '1469', '1470', '1471', '1472', '1473', '1474', '1475', '1476', '1477', '1478', '1479', '1480', '1483', '1486', '1487', '1489', '1492', '1493', '1495', '1496', '1498', '1499', '1502', '1504', '1505', '1506', '1507', '1508', '1509', '1510', '1511', '1512']
# EXCLUDED: INVALID OUTPUT CHARACTER
# reset_db
# sqlite3_db_config db DEFENSIVE 1
# do_execsql_test utf-dredd-1.1 {
#    PRAGMA encoding = 'UTF16be'                                 ;
#                                    VALUES ( x'd9c138b5' );
# } {ò€’µ}

# kill mutants ['1481', '1482']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_catchsql_test utf-dredd-2.1 {
  PRAGMA encoding = 'UTF16be';
  CREATE VIRTUAL TABLE a USING b;
} {1 {no such module: b}}

# kill mutants ['1087', '1223']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test utf-dredd-3.1 {
  PRAGMA encoding = 'UTF16le';
  CREATE TABLE a(b);
} {}

finish_test
