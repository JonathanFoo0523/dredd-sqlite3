set testdir [file dirname $argv0]
source $testdir/tester.tcl

# kill mutants ['6923', '6924', '6925', '6926', '6927', '6928', '6929', '6930', '6931', '6932', '6933', '6934', '6935', '6936', '6937', '6938', '6939', '6940', '6941']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test os_unix-dredd-1.1 {
  PRAGMA mmap_size = 8347715345;
} {2147418112}

# kill mutants ['15367', '15368', '15370', '15371', '15372', '15376', '15379', '15380', '15381', '15382', '15384', '15390', '15391', '15392', '15393', '15394']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_catchsql_test os_unix-dredd-2.1 {
  SELECT load_extension(0);
} {1 {0.so: cannot open shared object file: No such file or directory}}

# kill mutants ['15387']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_catchsql_test os_unix-dredd-3.1 {
  CREATE TABLE a(b);
  INSERT INTO a VALUES('6ddffdff');
  SELECT LEAD(load_extension(b)) OVER() FROM a;
} {1 {6ddffdff.so: cannot open shared object file: No such file or directory}}

# kill mutants ['15375']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test os_unix-dredd-4.1 {
  BEGIN IMMEDIATE TRANSACTION;
  
} {}

finish_test
