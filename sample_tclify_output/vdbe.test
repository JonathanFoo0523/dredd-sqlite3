# kill mutants ['29459', '29460', '29461', '29463', '29464', '29465', '29467', '29468', '29469', '29470', '29472', '29473', '29477', '29479', '29482', '29483', '29484', '29488', '29491', '29492']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_catchsql_test alter-dredd-1.1 {
  BEGIN;
  PRAGMA journal_mode = WAL;
} {1 {cannot change into wal mode from within a transaction}}

# kill mutants ['10240', '10242', '10247', '10249', '10250', '10251']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test alter-dredd-2.1 {
  CREATE TABLE a(b);
  ALTER TABLE a ADD c;
  INSERT INTO a VALUES('', NULL);
  ALTER TABLE a ADD d b;
  PRAGMA integrity_check;
} {ok}

# kill mutants ['10274', '10278']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test alter-dredd-3.1 {
  CREATE TABLE a(b);
  INSERT INTO a VALUES('|yL	A');
  ALTER TABLE a ADD c d;
  PRAGMA integrity_check;
} {ok}

# kill mutants ['10248', '10254']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test alter-dredd-4.1 {
  CREATE TABLE a(b c);
  INSERT INTO a VALUES('|yL	A');
  PRAGMA integrity_check;
} {ok}

# kill mutants ['29474', '29475', '29476', '29478', '29480', '29481', '29485']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test alter-dredd-5.1 {
  PRAGMA journal_mode = WAL;
} {wal}

# kill mutants ['1238']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test alter-dredd-6.1 {
  SELECT - '546837440';
} {-546837440}

# kill mutants ['8228', '8236', '8243', '8244', '8245']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test alter-dredd-7.1 {
  PRAGMA cache_size = 0;
  PRAGMA temp_store=MEMORY;
  PRAGMA case_sensitive_like=a;
  CREATE TABLE    t0 (c0 b , c1 b , c2 TEXT );
  ALTER TABLE t0 RENAME c2 TO c73; ALTER TABLE t0 RENAME c1 TO c32;  
  ALTER TABLE t0 ADD c56 BLOB;  
  INSERT INTO t0 VALUES (2.0354636E7, '', x'', ''), ('342280005', '', '', NULL); -- 0ms
  CREATE UNIQUE INDEX IF NOT EXISTS i43 ON t0(CAST(0 AS NUMERIC) COLLATE BINARY,CAST(6 COLLATE RTRIM AS REAL) COLLATE RTRIM,((0 BETWEEN 0 AND (c32)) BETWEEN (CASE WHEN c73 THEN c32 END) AND (c32 COLLATE RTRIM)) COLLATE RTRIM ASC,CASE WHEN ((('489239467', c73, c73)) BETWEEN (('c', NULL, c73)) AND ((NULL, '', c0))) THEN (- (c0)) ELSE '' END ASC) WHERE c0; -- 0ms
  ALTER TABLE t0 RENAME TO t1; -- 0ms
  CREATE INDEX IF NOT EXISTS i91 ON t1(0 ASC,0 BETWEEN 0>0 AND 0 COLLATE NOCASE DESC,0 IN ('' NOT BETWEEN 0 AND c73) DESC,CAST(0.7265009826817279 AS REAL)) WHERE 0 BETWEEN 0 AND '' BETWEEN 3 ISNULL AND CASE WHEN 3 THEN 2 WHEN 0 THEN 3 WHEN 3 THEN 3 END; -- 0ms
  UPDATE t1 SET c73=x'' ;
} {}

# kill mutants ['28697', '28698', '28710']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_catchsql_test alter-dredd-8.1 {
  SELECT NTILE(0) OVER();
} {1 {argument of ntile must be a positive integer}}

# kill mutants ['18628']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test alter-dredd-9.1 {
  SELECT COUNT() OVER() WHERE(json('1016734361'));
} {1}

# kill mutants ['10245', '10246']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test alter-dredd-10.1 {
  CREATE TABLE a(b);
  INSERT INTO a VALUES('');
  ALTER TABLE a ADD c d;
  PRAGMA integrity_check;
} {ok}

# kill mutants ['8227']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test alter-dredd-11.1 {
  PRAGMA encoding = 'UTF16be';
  CREATE TABLE a(b CHECK(CAST(0 AS TEXT) BETWEEN 0 AND(0)));
  INSERT INTO a VALUES(0.017351825035087032);
} {}

# kill mutants ['10244', '10253']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test alter-dredd-12.1 {
  CREATE TABLE a(b);
  ALTER TABLE a ADD c d;
  INSERT INTO a VALUES('', NULL);
  ALTER TABLE a ADD e b;
  PRAGMA integrity_check;
} {ok}

# kill mutants ['10276']
reset_db
sqlite3_db_config db DEFENSIVE 1
do_execsql_test alter-dredd-13.1 {
  CREATE TABLE a(b c);
  INSERT INTO a VALUES('|yL	A');
  ALTER TABLE a ADD d e;
  PRAGMA integrity_check;
} {ok}

